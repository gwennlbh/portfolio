---
import WorksGrid from "../components/WorksGrid.astro";
import StrongHeader from "../components/StrongHeader.astro";
import Layout from "../layouts/Layout.astro";
import { getCollection, getEntry } from "astro:content";

const works = (await getCollection("works")).map((w) => w.data);
const smolWorks = (await getEntry("collections", "smol"))?.data?.includes.split(
  " or ",
);
---

<Layout>
  <StrongHeader title="Hiya!">
    <p i18n>I'm Gwenn Le Bihan :3</p>
    <nav class="webring">
      <a href="https://n7webring.neocities.org/gwenn/prev">&lt;-</a>
      <a href="https://n7webring.neocities.org">n7webring</a>
      <a href="https://n7webring.neocities.org/gwenn/next">-&gt;</a>
    </nav>
  </StrongHeader>

  <WorksGrid works={works.filter((w) => !smolWorks?.includes(w.id))} />
</Layout>

<style>
  nav.webring {
    opacity: 0.7;
    margin-top: 0.75em;
  }

  nav.webring a {
    text-decoration: none;
  }

  nav.webring a[href="https://n7webring.neocities.org"]
  {
    font-family:
      Victor Mono,
      monospace;
    font-size: 0.8em;
  }
</style>
